{{define "base"}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JSON Formatter</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #f8fafc; }
    pre { margin: 0; }
  </style>
</head>
<body class="bg-slate-50">
  <main class="container py-4">
    {{template "content" .}}
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
    (() => {
      const btn = document.getElementById('copyFormatted');
      if (!btn) return;
      btn.addEventListener('click', () => {
        const targetId = btn.getAttribute('data-target');
        const pre = document.getElementById(targetId);
        if (!pre) return;
        const text = pre.innerText || pre.textContent || '';
        const reset = (label) => {
          const span = btn.querySelector('.copy-label');
          if (span) span.textContent = label;
        };
        const setTempLabel = (label) => {
          reset(label);
          setTimeout(() => reset('Copy'), 1500);
        };
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(text).then(() => setTempLabel('Copied!')).catch(() => setTempLabel('Copy failed'));
        } else {
          setTempLabel('Unsupported');
        }
      });
    })();
  </script>
</body>
</html>
{{end}}

